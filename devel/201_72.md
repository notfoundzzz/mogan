# 201_72 修复导言区调用未定义颜色变量导致软件崩溃

## 如何测试
1. 打开 TeXmacs/tests/tmu/201_72.tmu 文件
2. `Ctrl+Shift+p`进入导言区 
3. 鼠标光标移动到`backcolor`后回车应该不会导致软件闪退问题

## 2026/2/4
### What
1. 在 `src/Graphics/Renderer/brush.cpp` 的 `make_brush(tree p, int a)` 中增加非法 pattern 输入校验，遇到异常复合树时回退为 `no_brush`。
2. 在 `src/Graphics/Renderer/brush.cpp` 的 `get_pattern_data(...)` 中增加结构和 URL 健壮性检查，非法输入回退到安全默认值，避免继续解包。

### Why
`<value|backcolor>` 在变量未定义时会产生异常值，该值进入颜色渲染链路后被误当作 pattern 解包。  
MuPDF 路径中会继续读取非法 pattern 图像信息（日志可见 `bad image size for '{}'`），最终触发 SIGSEGV。


